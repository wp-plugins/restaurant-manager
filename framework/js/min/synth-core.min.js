!function(e,t,r){e.synthCore=function(){this.initialize()},e.synthCore.prototype={initialize:function(){this.create_nested_shortcode_modal(),this.template_sidebar_chooser()},create_nested_shortcode_modal:function(){jQuery(r.body).on("click",".activate-nested-modal",function(){var e=jQuery(this).closest(".synth-control-root"),t=jQuery(this),r=jQuery(this).closest("ul").data("parent-shortcode"),a=synth_taurus_scodes.globals.synth_taurus_shortcodes_button.config,o=a[r],n=a[o.nested_shortcode],i=t.find("textarea").html(),s=e.find(".item-template").html(),d=e.find(".item-template").data("parts"),_={scope:this,modal_title:n.heading,modal_style:'style="z-index: 10003; margin: 50px;"',modal_button:n.modal_button,modal_bg_style:'style="z-index: 10002"',modal_template:i,ajax_hook:n.name,load_callback:n.modal_support,save_callback:function(e){var o,i,_=[];_=jQuery.synth_core.extract_shortcode_params(n.name,e),i=jQuery.synth_core.merge_template(s,d,_),o=jQuery.synth_core.create_shortcode_tag(a[r].nested_shortcode,_),t.find("textarea").html(o),t.find(".template").html(i)}};new jQuery.synthModal(_)})},create_shortcode_tag:function(t,r){var a={},o="",n="",i="",s=" ";if("undefined"!=typeof r.content){if("object"==typeof r.content){jQuery.isArray(r.content)&&(s="\n");for(var d=0;d<r.content.length;d++)r.content[d]=e.trim(r.content[d]);n+=r.content.join(s)}else n=jQuery.trim(r.content);delete r.content}"undefined"!=typeof r.editor&&("string"==typeof r.editor&&(n+=e.trim(r.editor)),delete r.editor);for(var _ in r)r.hasOwnProperty(_)&&""!==r[_]&&(o+=_+'="'+r[_]+'" ');return a.start="["+t+(""!==o?" "+jQuery.trim(o):""),a.close="]",n&&(a.start+="]",a.close="[/"+t+"]"),i=a.start+n+a.close},extract_shortcode_params:function(e,t){var r=[],a=e+"_";for(var o in t){var n=o.replace(a,"");n!==o&&n!==a&&(r[n]=t[o],delete t[o])}return t=null,r},merge_template:function(e,t,r){for(var a in t){var o=t[a];e=e.replace("%"+o+"%",r[o])}return e},template_sidebar_chooser:function(){function e(){jQuery("#page_sidebar_layout_selector").on("change",function(){var e=jQuery(this).val();t(e)})}function t(e){jQuery("#primary_widget_area_sidebar").hide(),jQuery("#secondary_widget_area_sidebar").hide(),jQuery("#empty_widget_area_sidebar").hide(),"page-templates/full-width-content.php"===e&&jQuery("#empty_widget_area_sidebar").show(),("one_left_sidebar"===e||"one_right_sidebar"===e)&&jQuery("#primary_widget_area_sidebar").show(),("two_left_sidebars"===e||"two_right_sidebars"===e||"left_right_sidebars"===e||"right_left_sidebars"===e)&&(jQuery("#primary_widget_area_sidebar").show(),jQuery("#secondary_widget_area_sidebar").show())}var r=jQuery("#page_sidebar_layout_selector").val();t(r),e()}}}(jQuery,window,document),jQuery(document).ready(function(){jQuery.synth_core=new jQuery.synthCore});