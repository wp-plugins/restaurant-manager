!function(e,t,r){"use strict";e.SynthCore=function(){this.initialize()},e.SynthCore.prototype={initialize:function(){this.create_nested_shortcode_modal(),this.template_sidebar_chooser()},create_nested_shortcode_modal:function(){jQuery(r.body).on("click",".activate-nested-modal",function(){var e=jQuery(this).closest(".synth-control-root"),t=jQuery(this),r=jQuery(this).closest("ul").data("parent-shortcode"),a=synth_taurus_scodes.globals.synth_taurus_shortcodes_button.config,o=a[r],n=a[o.nested_shortcode],s=t.find("textarea").html(),i=e.find(".item-template").html(),_=e.find(".item-template").data("parts"),d={scope:this,modal_title:n.heading,modal_style:'style="z-index: 10003; margin: 50px;"',modal_button:n.modal_button,modal_bg_style:'style="z-index: 10002"',modal_template:s,ajax_hook:n.name,load_callback:n.modal_support,save_callback:function(e){var o,s,d=[];d=syn_restaurant_manager_js_core.extract_shortcode_params(n.name,e),s=syn_restaurant_manager_js_core.merge_template(i,_,d),o=syn_restaurant_manager_js_core.create_shortcode_tag(a[r].nested_shortcode,d),t.find("textarea").html(o),t.find(".template").html(s)}};new jQuery.synthModal(d)})},create_shortcode_tag:function(e,t){var r={},a="",o="",n="",s=" ";if("undefined"!=typeof t.content){if("object"==typeof t.content){jQuery.isArray(t.content)&&(s="\n");for(var i=0;i<t.content.length;i++)t.content[i]=jQuery.trim(t.content[i]);o+=t.content.join(s)}else o=jQuery.trim(t.content);delete t.content}"undefined"!=typeof t.editor&&("string"==typeof t.editor&&(o+=jQuery.trim(t.editor)),delete t.editor);for(var _ in t)t.hasOwnProperty(_)&&""!==t[_]&&(a+=_+'="'+t[_]+'" ');return r.start="["+e+(""!==a?" "+jQuery.trim(a):""),r.close="]",o&&(r.start+="]",r.close="[/"+e+"]"),n=r.start+o+r.close},extract_shortcode_params:function(e,t){var r=[],a=e+"_";for(var o in t){var n=o.replace(a,"");n!==o&&n!==a&&(r[n]=t[o],delete t[o])}return t=null,r},merge_template:function(e,t,r){for(var a in t){var o=t[a];e=e.replace("%"+o+"%",r[o])}return e},template_sidebar_chooser:function(){function e(){jQuery("#page_sidebar_layout_selector").on("change",function(){var e=jQuery(this).val();t(e)})}function t(e){jQuery("#primary_widget_area_sidebar").hide(),jQuery("#secondary_widget_area_sidebar").hide(),jQuery("#empty_widget_area_sidebar").hide(),"page-templates/full-width-content.php"===e&&jQuery("#empty_widget_area_sidebar").show(),("one_left_sidebar"===e||"one_right_sidebar"===e)&&jQuery("#primary_widget_area_sidebar").show(),("two_left_sidebars"===e||"two_right_sidebars"===e||"left_right_sidebars"===e||"right_left_sidebars"===e)&&(jQuery("#primary_widget_area_sidebar").show(),jQuery("#secondary_widget_area_sidebar").show())}var r=jQuery("#page_sidebar_layout_selector").val();t(r),e()}}}(syn_restaurant_manager_js,window,document);