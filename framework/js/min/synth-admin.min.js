"use strict";var syn_restaurant_manager_js={},syn_restaurant_manager_js_core=null,syn_restaurant_manager_js_controls=null,syn_restaurant_manager_js_shortcodes=null;jQuery(document).ready(function(){syn_restaurant_manager_js_core=new syn_restaurant_manager_js.SynthCore,syn_restaurant_manager_js_controls=new syn_restaurant_manager_js.SynthControls,syn_restaurant_manager_js_shortcodes=new syn_restaurant_manager_js.SynthShortcodes});
!function(e,t,r){"use strict";e.SynthCore=function(){this.initialize()},e.SynthCore.prototype={initialize:function(){this.create_nested_shortcode_modal(),this.template_sidebar_chooser()},create_nested_shortcode_modal:function(){jQuery(r.body).on("click",".activate-nested-modal",function(){var e=jQuery(this).closest(".synth-control-root"),t=jQuery(this),r=jQuery(this).closest("ul").data("parent-shortcode"),a=synth_taurus_scodes.globals.synth_taurus_shortcodes_button.config,o=a[r],n=a[o.nested_shortcode],s=t.find("textarea").html(),i=e.find(".item-template").html(),_=e.find(".item-template").data("parts"),d={scope:this,modal_title:n.heading,modal_style:'style="z-index: 10003; margin: 50px;"',modal_button:n.modal_button,modal_bg_style:'style="z-index: 10002"',modal_template:s,ajax_hook:n.name,load_callback:n.modal_support,save_callback:function(e){var o,s,d=[];d=syn_restaurant_manager_js_core.extract_shortcode_params(n.name,e),s=syn_restaurant_manager_js_core.merge_template(i,_,d),o=syn_restaurant_manager_js_core.create_shortcode_tag(a[r].nested_shortcode,d),t.find("textarea").html(o),t.find(".template").html(s)}};new jQuery.synthModal(d)})},create_shortcode_tag:function(e,t){var r={},a="",o="",n="",s=" ";if("undefined"!=typeof t.content){if("object"==typeof t.content){jQuery.isArray(t.content)&&(s="\n");for(var i=0;i<t.content.length;i++)t.content[i]=jQuery.trim(t.content[i]);o+=t.content.join(s)}else o=jQuery.trim(t.content);delete t.content}"undefined"!=typeof t.editor&&("string"==typeof t.editor&&(o+=jQuery.trim(t.editor)),delete t.editor);for(var _ in t)t.hasOwnProperty(_)&&""!==t[_]&&(a+=_+'="'+t[_]+'" ');return r.start="["+e+(""!==a?" "+jQuery.trim(a):""),r.close="]",o&&(r.start+="]",r.close="[/"+e+"]"),n=r.start+o+r.close},extract_shortcode_params:function(e,t){var r=[],a=e+"_";for(var o in t){var n=o.replace(a,"");n!==o&&n!==a&&(r[n]=t[o],delete t[o])}return t=null,r},merge_template:function(e,t,r){for(var a in t){var o=t[a];e=e.replace("%"+o+"%",r[o])}return e},template_sidebar_chooser:function(){function e(){jQuery("#page_sidebar_layout_selector").on("change",function(){var e=jQuery(this).val();t(e)})}function t(e){jQuery("#primary_widget_area_sidebar").hide(),jQuery("#secondary_widget_area_sidebar").hide(),jQuery("#empty_widget_area_sidebar").hide(),"page-templates/full-width-content.php"===e&&jQuery("#empty_widget_area_sidebar").show(),("one_left_sidebar"===e||"one_right_sidebar"===e)&&jQuery("#primary_widget_area_sidebar").show(),("two_left_sidebars"===e||"two_right_sidebars"===e||"left_right_sidebars"===e||"right_left_sidebars"===e)&&(jQuery("#primary_widget_area_sidebar").show(),jQuery("#secondary_widget_area_sidebar").show())}var r=jQuery("#page_sidebar_layout_selector").val();t(r),e()}}}(syn_restaurant_manager_js,window,document);
!function(t){t.SynthControls=function(){this.initialize()},t.SynthControls.prototype={initialize:function(){this.color_picker_initialize()},color_picker_initialize:function(){"object"==typeof jQuery.wp&&"function"==typeof jQuery.wp.wpColorPicker?jQuery("input:text.synth-colorpicker").wpColorPicker():jQuery("input:text.synth-colorpicker").each(function(t){jQuery(this).after('<div id="picker-'+t+'" style="z-index: 1000; background: #EEE; border: 1px solid #CCC; position: absolute; display: block;"></div>'),jQuery("#picker-"+t).hide().farbtastic(jQuery(this))}).focus(function(){jQuery(this).next().show()}).blur(function(){jQuery(this).next().hide()})}}}(syn_restaurant_manager_js,window,document),jQuery.fn.getType=function(){return"INPUT"===this[0].tagName?jQuery(this[0]).attr("type").toLowerCase():this[0].tagName.toLowerCase()};
!function(n){"use strict";n.SynthShortcodes=function(){},n.SynthShortcodes.prototype={backend_initialize:function(){},frontend_initialize:function(){},backend_modal_loaded:function(){this.on_dropcap_advanced_initialize()},on_dropcap_advanced_initialize:function(){}}}(syn_restaurant_manager_js,window,document);
function modal_support_sortables(){jQuery(".sortables").sortable({handle:"span"})}function modal_support_tinymce(t){var a=t.modal.find(".synth_tinymce"),e=t.modal.find(".synth-modal-save-event");a.each(function(){var t=this.id,a=jQuery(this),o=a.parents(".wp-editor-wrap:eq(0)"),n=o.find("textarea.synth_tinymce"),l=o.find(".wp-switch-editor").removeAttr("onclick"),s={id:this.id,buttons:"strong,em,link,block,del,ins,img,ul,ol,li,code,spell,close"};tinyVersion=window.tinyMCE.majorVersion,executeAdd="mceAddControl",executeRem="mceRemoveControl",tinyVersion>=4&&(executeAdd="mceAddEditor",executeRem="mceRemoveEditor"),quicktags(s),QTags._buttonsInit(),l.bind("click",function(){var a=jQuery(this);a.is(".switch-tmce")?(o.removeClass("html-active").addClass("tmce-active"),window.tinyMCE.execCommand(executeAdd,!0,t),window.tinyMCE.get(t).setContent(window.switchEditors.wpautop(n.val()),{format:"raw"})):(o.removeClass("tmce-active").addClass("html-active"),window.tinyMCE.execCommand(executeRem,!0,t))}).trigger("click"),e.bind("click",function(){l.filter(".switch-html").trigger("click")})})}!function(t){"use strict";t.SynthModal=function(t){var a=this,e={scope:this,modal_title:"",modal_class:"",modal_style:"",modal_bg_style:"",modal_content:"",modal_template:"",ajax_hook:"",nested_modal:null,save_callback:function(){},load_callback:function(){},close_callback:function(){}};a.options=jQuery.extend({},e,t),a.modal=jQuery('<div class="synth-modal'+a.options.modal_class+'" '+a.options.modal_style+"></div>"),a.background=jQuery('<div class="synth-modal-background" '+a.options.modal_bg_style+"></div>"),a.body=jQuery("body"),a.initialize()},t.SynthModal.prototype={initialize:function(){var t=this;t.create_modal(),t.bind_events()},create_modal:function(){var t=this,a=this.options.modal_content?t.options.modal_content:"",e='<h4 class="synth-modal-title">'+t.options.modal_title+"</h4>",o="",n='<div class="synth-modal-content">';n+='<div class="synth-modal-content-header"><span class="synth-modal-icon rman-syntaxstudio"></span>'+e+'<a href="#close" class="synth-modal-close-event close-button"></a></div>',n+='<div class="synth-modal-inner-content '+o+'">'+a+"</div>",n+='<div class="synth-modal-inner-footer">',"save"===t.options.modal_button?n+='<a href="#save" class="synth-modal-save-event modal-button button-primary">Save</a>':"close"===t.options.modal_button&&(n+='<a href="#close" class="synth-modal-close-event modal-button button-primary">Close</a>'),n+="</div></div>",t.body.append(t.modal).append(t.background),t.modal.html(n),t.options.modal_content?t.execute_load_callback():t.call_ajax_content()},bind_events:function(){var t=this;t.modal.on("click",".synth-modal-save-event",function(a){t.save(),a.preventDefault()}),t.modal.on("click",".synth-modal-close-event",function(a){t.close(),a.preventDefault()}),t.background.add("synth-modal-close-event",this.modal).on("click",function(a){t.close(),a.preventDefault()})},loaded:function(){var t=this;t.execute_load_callback(),syn_restaurant_manager_js_shortcodes.backend_modal_loaded()},save:function(){var t=this;t.execute_save_callback()},close:function(){var t=this;t.modal.remove(),t.background.remove(),t.options.close_callback.call()},execute_load_callback:function(){var a,e=this.options.load_callback,o=0;if(e instanceof Array)for(o in e)t.SynthModal.callback_support[e[o]].call(this);"string"==typeof e?(a=e.split(","),o in a&&t.SynthModal.callback_support[a[o]].call(this)):"function"==typeof e&&e.call()},execute_save_callback:function(){var t=this,a=t.modal.find("input, select, radio, textarea").not('[data-visibility="hidden"]').serializeArray(),e=t.convert_values(a),o=t.options.save_callback.call(t.options.scope,e,t.options.save_param);o!==!1&&t.close()},call_ajax_content:function(){var t=this,a=t.modal.find(".synth-modal-inner-content");jQuery.ajax({type:"POST",url:ajaxurl,dataType:"xml",data:{action:t.options.ajax_hook,params:t.options.modal_template},success:function(e){var o=jQuery(e).find("response_data").text();a.html(o),t.loaded()},error:function(t,a,e,o){var n=jQuery(t).find("response_data").text();jQuery(".wrap h2").after(n),alert(e,o)},complete:function(){}})},convert_values:function(t){var a={};return jQuery.each(t,function(){"undefined"!=typeof a[this.name]?(a[this.name].push||(a[this.name]=[a[this.name]]),a[this.name].push(this.value||"")):a[this.name]=this.value||""}),a}},t.SynthModal.callback_support=t.SynthModal.callback_support||{},t.SynthModal.callback_support.colorpicker=function(){syn_restaurant_manager_js_controls.color_picker_initialize()},t.SynthModal.callback_support.sortables=function(){modal_support_sortables()},t.SynthModal.callback_support.tinymce=function(){modal_support_tinymce(this)},t.SynthModal.callback_support.nested_element_builder=function(){syn_restaurant_manager_js_controls.nested_shortcode_control_initialize()},t.SynthModal.callback_support.table_builder=function(){syn_restaurant_manager_js_controls.table_builder_initialize()},t.SynthModal.callback_support.tabs_builder=function(){syn_restaurant_manager_js_controls.tabs_builder_initialize()}}(syn_restaurant_manager_js,window,document);