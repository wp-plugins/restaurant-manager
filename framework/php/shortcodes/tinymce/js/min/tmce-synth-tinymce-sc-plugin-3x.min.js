jQuery(document).ready(function(){!function(){var t,e="shortcodes_button",n=theme_shortcodes.globals[e].plugin_name;tinymce.create("tinymce.plugins."+n,{init:function(e){t=e,t.addCommand("opensynthModal",function(t,e){new jQuery.synthModal(e);return!1})},createControl:function(t,n){var o=this,a=t,i=n;if(a!==e)return null;var r=i.createMenuButton(a,{icons:!1,title:theme_shortcodes.globals[a].title});return r.onRenderMenu.add(function(t,e){e.add({title:"Shortcodes","class":"mceMenuTitle"}).setDisabled(1);var n=theme_shortcodes.globals[a].config,i=[];for(var r in n)i[n[r].menu]=[];for(var d in i)"undefined"!==d&&(i[d]=e.addMenu({title:d}));e.addSeparator();for(var c in n)if(n[c].show_in_menu!==!1){var l=n[c].menu?i[n[c].menu]:e;n[c].modal_editor===!1?o.directToEditorWrite(l,n[c]):o.modalToEditorWrite(l,n[c])}}),r},directToEditorWrite:function(t,e){t.add({title:e.heading,onclick:function(){tinymce.activeEditor.execCommand("mceInsertContent",!1,window.switchEditors.wpautop(e.editor_insert))}})},modalToEditorWrite:function(t,e){t.add({title:e.heading,onclick:function(){tinymce.activeEditor.execCommand("opensynthModal",!1,{scope:tinymce.activeEditor,modal_class:e.modal_class,modal_title:e.heading,modal_button:e.modal_button,ajax_hook:e.name,load_callback:e.modal_support,save_callback:function(t){var n,o=[],a=e.name+"_";for(var i in t){var r=i.replace(a,"");r!==i&&r!==a&&(o[r]=t[i],delete t[i])}t=null,n=window.switchEditors.wpautop(syn_restaurant_manager_js_core.create_shortcode_tag(e.name,o)),tinymce.activeEditor.execCommand("mceInsertContent",!1,n)}})}})},getInfo:function(){return{longname:"Shortcodes Manager",author:"Ryan Haworth",authorurl:"http://www.syntaxthemes.co.uk",version:"1.0"}}}),tinymce.PluginManager.add(n,tinymce.plugins.synth_shortcode_plugin)}()});